# Stack size configuration for grammar initialization
#
# The lazy initialization cascade in dialect grammars requires more stack than
# Rust's default 2MB. Use the RUST_MIN_STACK environment variable to increase
# stack size for tests and development:
#
#     RUST_MIN_STACK=16777216 cargo test    # 16MB stack
#     RUST_MIN_STACK=16777216 cargo run     # 16MB stack
#
# For CI/CD, set RUST_MIN_STACK=16777216 in your workflow environment.
#
# Note: The linker flags below only affect main binaries, not test binaries.
# Always use RUST_MIN_STACK for reliable stack size control.

# [build]
# rustflags = ["-C", "link-args=-Wl,-z,stack-size=16777216"]

# [target.x86_64-unknown-linux-gnu]
# rustflags = ["-C", "link-args=-Wl,-z,stack-size=16777216"]

# [target.aarch64-unknown-linux-gnu]
# rustflags = ["-C", "link-args=-Wl,-z,stack-size=16777216"]

# [target.x86_64-apple-darwin]
# rustflags = ["-C", "link-args=-Wl,-stack_size,0x1000000"]

# [target.aarch64-apple-darwin]
# rustflags = ["-C", "link-args=-Wl,-stack_size,0x1000000"]
