# YML test files are auto-generated from SQL files and should not be edited by
# hand. To help enforce this, the "hash" field in the file must match a hash
# computed by SQLFluff when running the tests. Please run
# `python test/generate_parse_fixture_yml.py`  to generate them after adding or
# altering SQL files.
_hash: 6f232db9a2030558cdf44607c8875f89ea9343ec5e6b25e8e524f07f45525c83
file:
  batch:
  - statement:
      insert_statement:
      - keyword: INSERT
      - keyword: INTO
      - table_reference:
          naked_identifier: tbl1
      - select_statement:
          select_clause:
            keyword: SELECT
            select_clause_element:
              column_reference:
                naked_identifier: id
          from_clause:
            keyword: FROM
            from_expression:
              from_expression_element:
                table_expression:
                  bracketed:
                    start_bracket: (
                    delete_statement:
                      keyword: DELETE
                      table_reference:
                        naked_identifier: tbl2
                      output_clause:
                      - keyword: OUTPUT
                      - keyword: deleted
                      - dot: .
                      - naked_identifier: id
                    end_bracket: )
                alias_expression:
                  alias_operator:
                    keyword: AS
                  naked_identifier: x
            statement_terminator: ;
  - statement:
      select_statement:
        select_clause:
          keyword: SELECT
          select_clause_element:
            wildcard_expression:
              wildcard_identifier:
                star: '*'
        from_clause:
          keyword: FROM
          from_expression:
            from_expression_element:
              table_expression:
                bracketed:
                  start_bracket: (
                  update_statement:
                    keyword: UPDATE
                    table_reference:
                      naked_identifier: tbl3
                    set_clause_list:
                      keyword: SET
                      set_clause:
                        column_reference:
                          naked_identifier: col1
                        assignment_operator:
                          raw_comparison_operator: '='
                        expression:
                          quoted_literal: "'value'"
                    output_clause:
                    - keyword: OUTPUT
                    - keyword: inserted
                    - dot: .
                    - naked_identifier: id
                    - comma: ','
                    - keyword: deleted
                    - dot: .
                    - naked_identifier: col1
                    - comma: ','
                    - keyword: inserted
                    - dot: .
                    - naked_identifier: col1
                  end_bracket: )
              alias_expression:
                alias_operator:
                  keyword: AS
                naked_identifier: updated_data
          statement_terminator: ;
  - statement:
      select_statement:
        select_clause:
          keyword: SELECT
          select_clause_element:
            column_reference:
              naked_identifier: new_id
        from_clause:
          keyword: FROM
          from_expression:
            from_expression_element:
              table_expression:
                bracketed:
                  start_bracket: (
                  insert_statement:
                  - keyword: INSERT
                  - keyword: INTO
                  - table_reference:
                      naked_identifier: tbl4
                  - bracketed:
                      start_bracket: (
                      column_reference:
                        naked_identifier: name
                      end_bracket: )
                  - output_clause:
                    - keyword: OUTPUT
                    - keyword: inserted
                    - dot: .
                    - naked_identifier: id
                    - alias_expression:
                        alias_operator:
                          keyword: AS
                        naked_identifier: new_id
                  - values_clause:
                      keyword: VALUES
                      bracketed:
                        start_bracket: (
                        quoted_literal: "'test'"
                        end_bracket: )
                  end_bracket: )
              alias_expression:
                alias_operator:
                  keyword: AS
                naked_identifier: ins
          statement_terminator: ;
  - statement:
      select_statement:
        select_clause:
          keyword: SELECT
          select_clause_element:
            column_reference:
              naked_identifier: deleted_id
        from_clause:
          keyword: FROM
          from_expression:
            from_expression_element:
              table_expression:
                bracketed:
                  start_bracket: (
                  delete_statement:
                  - keyword: DELETE
                  - keyword: FROM
                  - table_reference:
                      naked_identifier: tbl5
                  - output_clause:
                    - keyword: OUTPUT
                    - keyword: deleted
                    - dot: .
                    - naked_identifier: id
                    - alias_expression:
                        alias_operator:
                          keyword: AS
                        naked_identifier: deleted_id
                  - where_clause:
                      keyword: WHERE
                      expression:
                        column_reference:
                          naked_identifier: status
                        comparison_operator:
                          raw_comparison_operator: '='
                        quoted_literal: "'inactive'"
                  end_bracket: )
              alias_expression:
                alias_operator:
                  keyword: AS
                naked_identifier: del_result
          statement_terminator: ;
  - statement:
      select_statement:
        select_clause:
        - keyword: SELECT
        - select_clause_element:
            column_reference:
            - naked_identifier: d
            - dot: .
            - naked_identifier: id
        - comma: ','
        - select_clause_element:
            column_reference:
            - naked_identifier: t
            - dot: .
            - naked_identifier: name
        from_clause:
          keyword: FROM
          from_expression:
            from_expression_element:
              table_expression:
                bracketed:
                  start_bracket: (
                  delete_statement:
                    keyword: DELETE
                    table_reference:
                      naked_identifier: tbl6
                    output_clause:
                    - keyword: OUTPUT
                    - keyword: deleted
                    - dot: .
                    - naked_identifier: id
                    - comma: ','
                    - keyword: deleted
                    - dot: .
                    - naked_identifier: category_id
                    where_clause:
                      keyword: WHERE
                      expression:
                        column_reference:
                          naked_identifier: deleted_date
                        comparison_operator:
                          raw_comparison_operator: <
                        quoted_literal: "'2020-01-01'"
                  end_bracket: )
              alias_expression:
                alias_operator:
                  keyword: AS
                naked_identifier: d
            join_clause:
            - keyword: INNER
            - keyword: JOIN
            - from_expression_element:
                table_expression:
                  table_reference:
                    naked_identifier: tbl7
                alias_expression:
                  naked_identifier: t
            - join_on_condition:
                keyword: 'ON'
                expression:
                - column_reference:
                  - naked_identifier: d
                  - dot: .
                  - naked_identifier: category_id
                - comparison_operator:
                    raw_comparison_operator: '='
                - column_reference:
                  - naked_identifier: t
                  - dot: .
                  - naked_identifier: id
          statement_terminator: ;
